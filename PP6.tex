%==================================================
%      PREAMBOLO e DICHIARAZIONI INIZIALI
%==================================================
\documentclass[10pt,oneside,a4paper]{article}

\usepackage[latin1]{inputenc} 
\usepackage[italian]{babel}
\usepackage[T1]{fontenc}
\usepackage{siunitx} %Inserisce automaticamente i dati con le unità  di misura correttamente formattate del SI (utilizzo: \SI{0.82}{m^2}, in generale \SI{misura con il punto decimale}{unità  di misura})
\sisetup{output-decimal-marker = {.}, separate-uncertainty = true, input-uncertainty-signs = \pm, detect-weight=true, detect-family=true} %per usare SI con il punto decimale
\usepackage{listings} %Per citare codice informatico formattandolo correttamente
\usepackage{amsmath,amsthm,verbatim,amssymb,amsfonts,amscd,graphicx,mathtools}
\usepackage[makeroom]{cancel}
\newcommand{\abs}[1]{\left\lvert\,#1\,\right\rvert}
\usepackage{geometry}
\usepackage{epigraph}
\usepackage{booktabs}	%tabelle migliorate
\usepackage{tablefootnote}	%note a piè di pagina in tabella
\usepackage{threeparttable} %tabella con note a piè di tabella
\usepackage{caption}	%descrizione per figure
\usepackage{dblfnote}
\captionsetup{tableposition=top,figureposition=bottom,font=small} %setup descrizione
\usepackage{float}
\usepackage{esvect} %vettori
\usepackage{longtable} %tabelle lunghe
\usepackage[dvipsnames]{xcolor}
\definecolor{sepia}{HTML}{80002A}
\usepackage[colorlinks=true, citecolor=black, linkcolor=sepia, urlcolor=black]{hyperref}
\usepackage{mathrsfs}
\usepackage{circuitikz}
\ctikzset{bipoles/resistor/height=0.2}
\ctikzset{bipoles/resistor/width=0.4}
\usepackage{enumitem} %Liste senza spazi verticali
\setlist{noitemsep}
\usepackage{amsmath}

\interfootnotelinepenalty=10000


\usepackage{multicol}
\newenvironment{Figure}
  {\par\medskip\noindent\minipage{\linewidth}}
  {\endminipage\par\medskip}

\newcommand{\var}{\operatorname{var}}
\newcommand{\cov}{\operatorname{cov}}


\usepackage{listings} %Per inserire codice
\lstnewenvironment{codice_c}[1][]
{\lstset{basicstyle=\small\ttfamily, columns=fullflexible,
keywordstyle=\color{red}\bfseries, commentstyle=\color{blue},
language=C, basicstyle=\small,
numbers=left, numberstyle=\tiny,
stepnumber=2, numbersep=5pt, frame=shadowbox,  showstringspaces=false, #1}}{}

%==================================================
%                  PRIMA PAGINA
%==================================================

\title{\textsc{\textbf{Esercitazione 6}: Elettronica Digitale, Porte Logiche}}
\author{\small{G. Galbato Muscio} \and \small{L. Gravina} \and \small{L. Graziotto}}
\date{27 Novembre 2018}

\begin{document}
	\begin{figure}
		\centering
		\includegraphics[scale=0.5, trim={2.8cm 8.9cm 0 9cm}, clip]{logo.png}
	\end{figure}
	\maketitle
	\begin{center} 
		\fbox{{\fontsize{12pt}{8mm}\textsc{Gruppo 11}}} \\
	\end{center}
\hrule
\vspace{0.5cm}
\renewcommand{\abstractname}{Abstract}
\begin{abstract}
Si studiano i livelli di commutazione delle porte logiche TTL dell'integrato 74LS00. Si realizza un circuito XOR con porte NAND e un multiplexer a due ingressi. Si costruisce un flip-flop set-reset con porte NAND.
\end{abstract}
\vspace{4cm}
\tableofcontents %Indice
\newpage


\pagebreak
\begin{multicols}{2}
%==================================================
%             LIVELLI COMMUTAZIONE TTL
%==================================================
\section{Livello di commutazione delle porte logiche TTL}
Si utilizzerà per tutta l'esperienza l'integrato 74LS00, che è alimentato con una tensione di \SI{5}{V}, mentre il \texttt{GND} è posto a massa, comune ai generatori di tensione e di segnali e all'oscilloscopio. Per visualizzare rapidamente il livello delle uscite saranno utilizzati dei LED, protetti da resistenze dell'ordine di \SI{500}{\ohm} verso massa. Inoltre, per realizzare gli ingressi statici si utilizza una resistenza di pull-up di \SI{111 \pm 111}{\kilo\ohm} connessa a \SI{5}{V}.

Si studia il livello di commutazione di una porta NOT realizzata utilizzando una porta NAND dell'integrato, mandando ad entrambi gli ingressi la stessa tensione $V_i$, compresa tra \SI{0}{} e \SI{5}{V} mediante un alimentatore diverso da quello utilizzato per alimentare l'integrato. Al variare della tensione $V_i$ si studia il conseguente andamento della tensione di uscita $V_o$, evidenziando i valori per cui si ha il passaggio dal livello logico $0$ a $1$ o viceversa. Il circuito è il seguente.

\begin{circuitikz}
\draw (0,0) node[ground]{} to[battery2=$V_i$, invert] (0,1.2) 
(3,1.2) node[american nand port] (nand) {}
(nand.in 1) to[short] (nand.in 2)  
(nand.in 1 |- nand.out) to [short,-] (0,1.2)
(nand.out) to[short, -*] ++(0.5,0) node[right]{$V_o$}
;\end{circuitikz}

Si riportano in Tabella~\ref{tab:commutazione} i punti sperimentali individuati, e nel grafico di Figura~\ref{fig:commutazione} l'andamento della tensione in uscita in funzione della tensione di ingresso. Si osserva che il valore logico $1$ dell'uscita corrisponde ad una tensione di \SI{111 \pm 111}{V}, ottenuta dalla media dei primi $111$ punti, per i quali $V_o$ è costante all'aumentare di $V_i$, prima di raggiungere la regione in cui si ha la rapida decrescita. Allo stesso modo, prendendo la media degli ultimi $111$ punti, successivi alla regione di decrescita e nella zona di costanza di $V_o$, si ottiene per il valore logico $0$ una tensione corrispondente di \SI{111 \pm 111}{V}.

I risultati ottenuti sono compatibili con le definizioni dello standard logico TTL, per le quali si ha un valore di $0$ logico (nel caso analizzato corrispondente all'$1$ in uscita dalla porta NOT) per una tensione di \SI{0.2}{V}, e un valore di $1$ logico (nel caso analizzato corrispondente allo $0$ in uscita dalla porta NOT) per una tensione di \SI{5}{V}.

\begin{center}
\captionof{table}{Misure per il livello di commutazione delle porte logiche TTL}
\label{tab:commutazione}
\begin{tabular}{c|c}
$V_i$ [\SI{}{V}] & $V_o$ [\SI{}{V}]  \\
\hline
\hline
\end{tabular}
\end{center}

%\begin{Figure}
%	\begin{center}
%	\includegraphics[width=\linewidth]{}
%	\captionof{figure}{Andamento di $V_o$ in funzione di $V_i$ per il NOT costruito con la porta NAND}
%	\label{fig:commutazione}
%	\end{center}
%\end{Figure}

Per controllare se la transizione dipende dal valore di partenza, si costruiscono due cicli di \emph{isteresi}, ovvero si pone $V_i = \SI{0}{V}$, la si aumenta fino a \SI{5}{V} e si ritorna a \SI{0}{V}; quindi si esegue il procedimento inverso. Si riporta in Figura~\ref{fig:isteresi} il grafico per i due differenti cicli.

%\begin{Figure}
%	\begin{center}
%	\includegraphics[width=\linewidth]{}
%	\captionof{figure}{Cicli di \emph{isteresi} per la verifica dei livelli di commutazione della logica TTL}
%	\label{fig:isteresi}
%	\end{center}
%\end{Figure}

%=============== COMMENTARE

%==================================================
%             XOR CON PORTE NAND
%==================================================
\section{Circuito XOR con porte NAND}
Si costruisce un circuito XOR utilizzando le quattro porte NAND dell'integrato, realizzando la funzione logica:
\[
\begin{aligned}
Q &= \overline{\overline{A\left(\overline{AB}\right)}\cdot \overline{B\left(\overline{AB}\right)}} \\
&= \big(\overline{A}B\big) + \big(A \overline{B}\big),
\end{aligned}
\]
dove l'uguaglianza si ottiene applicando le Leggi di De Morgan. Il circuito è il seguente,

\begin{circuitikz}
\draw (0,0) node[american nand port] (nand1) {}
(1.7,1) node[american nand port] (nand2) {}
(1.7,-1) node[american nand port] (nand3) {}
(3.4,0) node[american nand port] (nand4) {}
(nand1.in 1) to[short, *-] ++(-0.5,0) node[left] {$A$}
(nand1.in 2) to[short, *-] ++(-0.5,0) node[left] {$B$}
(nand1.out) -| (nand2.in 2) 
(nand1.out) -| (nand3.in 1) 
(nand2.in 1) -| (nand1.in 1)
(nand3.in 2) -| (nand1.in 2)
(nand2.out) -| (nand4.in 1)
(nand3.out) -| (nand4.in 2)
(nand4.out) to[R=$R$] ++(1,0) to[leDo] ++(0,-2) node[ground] {}
;\end{circuitikz}

dove la resistenza scelta per proteggere il diodo vale $R = \SI{111 \pm 111}{\kilo\ohm}$, e non ha influenza rilevabile sul comportamento del circuito.

Si verifica che il circuito si comporti come previsto dalla tavola della verità dello XOR applicando i valori logici $0$ e $1$ mediante livelli in continua (con gli ingressi statici muniti di resistenza di pull-out descritti prima), e misurando con il multimetro la tensione in uscita\footnote{Si usa infatti il LED solo come verifica rapida del funzionamento del circuito, ma per compiere le misure ci si rivolge ad uno strumento.}.

Si pone quindi l'ingresso $A$ a $0$ logico e si invia all'ingresso $B$ un'onda quadra TTL (con valore di tensione variabile tra \SI{0}{} e \SI{5}{V}) mediante il generatore di segnali. Si osserva al canale \texttt{CH1} dell'oscilloscopio l'ingresso $B$ e al \texttt{CH2} l'uscita del circuito. Si riporta in Figura~\ref{fig:XOR_A0} uno screenshot dell'oscilloscopio per la configurazione descritta, in cui è possibile osservare come l'uscita riproduca l'onda quadra in ingresso. Ponendo invece l'ingresso $A$ a livello $1$ logico, si osserva (si veda la Figura~\ref{fig:XOR_A1}) invece come l'onda quadra in uscita sia sfasata di un semiperiodo.

%\begin{Figure}
%	\begin{center}
%	\includegraphics[width=\linewidth]{}
%	\captionof{figure}{Istantanea dell'oscilloscopio per il circuito XOR, ingresso $A=0$}
%	\label{fig:XOR_A0}
%	\end{center}
%\end{Figure}

%\begin{Figure}
%	\begin{center}
%	\includegraphics[width=\linewidth]{}
%	\captionof{figure}{Istantanea dell'oscilloscopio per il circuito XOR, ingresso $A=1$}
%	\label{fig:XOR_A1}
%	\end{center}
%\end{Figure}

%==================================================
%             MULTIPLEXER A DUE INGRESSI
%==================================================
\section{Multiplexer a due ingressi}
Si realizza un circuito multiplexer a due ingressi, 

\begin{circuitikz}[scale=0.9]
\draw (0,0) node[american nand port] (nand1) {}
(2.2,1) node[american nand port] (nand2) {}
(2.2,-1) node[american nand port] (nand3) {}
(4,0) node[american nand port] (nand4) {}
(nand1.in 1) to[short] (nand1.in 2)  
(nand1.in 1 |- nand1.out) to [short,*-] (-3,0) to [short,*-*] (-2,0) 
(-3,0) node[left]{$S$}
(nand1.out) -| (nand3.in 1)
(nand3.in 2) to[short, -*] ++(-3,0) node[left]{$A$}
(nand2.in 1) to[short, -*] ++(-3,0) node[left]{$B$}
(nand2.in 2) -| (-2,0)
(nand3.out) -| (nand4.in 2)
(nand2.out) -| (nand4.in 1)
(nand4.out) to[R=$R$] ++(1,0) to[leDo] ++(0,-2) node[ground] {}
;\end{circuitikz}


%==================================================
%             FLIP-FLOP S-R
%==================================================
\section{Flip-Flop Set-Reset}

\begin{circuitikz}
\draw (0,1.6) node[american nand port] (nand1) {}
(0,-1.6) node[american nand port] (nand2) {}
(2,1) node[american nand port] (nand3) {}
(2,-1) node[american nand port] (nand4) {}
(nand1.in 1) to[short, -*] ++(-0.5,0) node[left] {$S$}
(nand2.in 2) to[short, -*] ++(-0.5,0) node[left] {$R$}
(nand1.in 2) -- (nand2.in 1) 
(nand1.in 2) ++(0,-1.4) -- ++(-0.5,0) node[circ] {} node[left]{\texttt{CLK}}
(nand1.out) -| (nand3.in 1)
(nand2.out) -| (nand4.in 2)
(nand3.in 2) -- ++(0,-0.5) node[](in1){}
(nand4.in 1) -- ++(0,0.5) node[](in2){}
(nand3.out) -- ++(0,-0.5) node[](out1){}
(nand4.out) -- ++(0,0.5) node[](out2){}
(in1) to[short] (out2)
(in2) to[short] (out1)
(nand3.out) to[R=$R_1$] ++(1,0) to[leDo] ++(2,0) node[](end){};
\draw (nand4.out) to[R=$R_2$] ++(1,0) to[leDo] ++(2,0) node[ground](ground) {}
(end) to[short] (ground)
;\end{circuitikz}





\end{multicols}

\pagebreak
\section{Appendice}





%ESEMPIO DI FIGURA
%\begin{Figure}
%	\begin{center}
%	\includegraphics[width=\linewidth]{comune.png}
%	\captionof{figure}{Istantanea dell'oscilloscopio per l'amplificatore differenziale, misura di $A_c$}
%	\label{fig:Ac_differenziale}
%	\end{center}
%\end{Figure}


%ESEMPIO DI TABELLA
%\begin{center}
%\captionof{table}{Misure per la stima di $A_c$}
%\label{tab:Ac_differenziale}
%\begin{tabular}{c|c|c|c}
%$f$ [\SI{}{Hz}] & $V_i$ [\SI{}{V}] & $v_o$ [\SI{}{mV}] & $A_c = v_o / V_i$ \\
%\hline
%      149.5 &        3.90 &         11.3 & 2.90e-03 \\
%      222.0 &        3.90 &         11.5 & 2.95e-03 \\
%      281.0 &        3.90 &         11.8 & 3.03e-03 \\
%      359.0 &        3.90 &         11.8 & 3.03e-03 \\
%      461.0 &        3.90 &         12.2 & 3.13e-03 \\
%\hline
%\end{tabular}
%\end{center}
\end{document}